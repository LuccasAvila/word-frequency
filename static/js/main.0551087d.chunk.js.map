{"version":3,"sources":["utils/usePersistentState.js","styles/themes/dark.js","styles/themes/light.js","styles/global.js","components/Main/styles.js","context/TextContext.js","components/Stats/styles.js","components/Stats/StatsItem/styles.js","components/Stats/StatsItem/index.js","components/Stats/index.js","components/WordFrequency/styles.js","components/WordFrequency/index.js","components/Main/index.js","components/Header/styles.js","components/Header/index.js","App.js","index.js"],"names":["usePersistentState","key","initialValue","storage","localStorage","getItem","value","JSON","parse","useState","state","setState","useEffect","setItem","stringify","theme","colors","primary","secondary","text","createGlobalStyle","props","Container","styled","div","TextArea","textarea","TextContext","createContext","setText","countWords","countChars","wordFrequency","TextProvider","children","split","filter","w","length","Provider","words","reduce","output","word","trim","toLowerCase","sortable","Object","keys","forEach","frequency","toFixed","push","sort","a","b","Count","p","Item","StatsItem","count","item","Stats","useContext","chars","timer","Title","List","ul","li","Loading","WordFrequency","wordInfo","setWordInfo","loading","setLoading","clearTimeout","setTimeout","map","Main","onChange","e","target","placeholder","ThemeSwitch","button","Header","toggleTheme","ThemeContext","onClick","App","dark","setTheme","light","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0551087d.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\n\nfunction usePersistentState(key, initialValue) {\n  const storage = localStorage.getItem(key);\n  const value = storage ? JSON.parse(storage) : initialValue;\n  const [state, setState] = useState(value);\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n}\n\nexport default usePersistentState;\n","export default {\n  theme: 'dark',\n\n  colors: {\n    primary: '#232831',\n    secondary: '#393e46',\n\n    text: '#ffffff',\n  },\n};\n","export default {\n  theme: 'light',\n\n  colors: {\n    primary: '#eeeeee',\n    secondary: '#929aab',\n\n    text: '#393e46',\n  },\n};\n","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: 0;\n    font-family: 'Muli', sans-serif;\n  }\n\n  html, body, #root {\n    background: ${props => props.theme.colors.primary};\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  max-width: 1140px;\n  width: 100%;\n  margin: 0 auto;\n  background: ${props => props.theme.colors.secondary};\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  padding: 16px;\n  margin-top: 10vh;\n`;\n\nexport const TextArea = styled.textarea`\n  width: 100%;\n  resize: none;\n  height: 320px;\n  font-size: 1.125rem;\n  padding: 8px;\n  background: ${props => props.theme.colors.primary};\n  border: none;\n  color: ${props => props.theme.colors.text};\n`;\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const TextContext = createContext({\n  text: '',\n  setText: () => {},\n  countWords: () => {},\n  countChars: () => {},\n  wordFrequency: () => {},\n});\n\nconst TextProvider = ({ children }) => {\n  const [text, setText] = useState('');\n\n  const countWords = () => {\n    const words = text.split(/[\\s,.!?:]+/).filter(w => w !== '');\n    return words.length;\n  };\n\n  const countChars = () => text.length;\n\n  const wordFrequency = () => {\n    let words = text.split(/[\\s,.!?:]+/).filter(w => w !== '');\n    words = words.reduce((output, word) => {\n      const w = word.trim().toLowerCase();\n      return { ...output, ...{ [w]: output[w] ? output[w] + 1 : 1 } };\n    }, {});\n\n    const sortable = [];\n\n    Object.keys(words).forEach(word => {\n      const frequency = ((words[word] / countWords()) * 100).toFixed(2);\n      sortable.push([word, words[word], frequency]);\n    });\n\n    return sortable.sort((a, b) => {\n      return b[1] - a[1];\n    });\n  };\n\n  return (\n    <TextContext.Provider\n      value={{ text, setText, countWords, countChars, wordFrequency }}\n    >\n      {children}\n    </TextContext.Provider>\n  );\n};\n\nTextProvider.propTypes = { children: PropTypes.node.isRequired };\n\nexport default TextProvider;\n","import styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: space-around;\n  background: ${props => props.theme.colors.primary};\n  margin-bottom: 16px;\n  color: ${props => props.theme.colors.text};\n`;\n\nexport default Container;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  text-align: center;\n  padding: 16px;\n`;\n\nexport const Count = styled.p`\n  font-size: 2rem;\n  font-weight: bold;\n`;\n\nexport const Item = styled.p`\n  margin-top: 8px;\n  font-size: 1.5rem;\n  letter-spacing: 0.25rem;\n`;\n","import React from 'react';\nimport { Container, Count, Item } from './styles';\n\nconst StatsItem = ({ count, item }) => {\n  return (\n    <Container>\n      <Count>{count}</Count>\n      <Item>{item}</Item>\n    </Container>\n  );\n};\n\nexport default StatsItem;\n","import React, { useContext } from 'react';\nimport Container from './styles';\nimport StatsItem from './StatsItem';\nimport { TextContext } from '../../context/TextContext';\n\nconst Stats = () => {\n  const { countChars, countWords } = useContext(TextContext);\n  const chars = countChars();\n  const words = countWords();\n\n  return (\n    <Container>\n      <StatsItem count={chars} item=\"Characters\" />\n      <StatsItem count={words} item=\"Words\" />\n    </Container>\n  );\n};\n\nexport default Stats;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  margin-top: 16px;\n  padding: 16px;\n  background: ${props => props.theme.colors.primary};\n`;\n\nexport const Title = styled.p`\n  font-size: 1.5rem;\n  color: ${props => props.theme.colors.text};\n`;\n\nexport const List = styled.ul`\n  list-style-type: none;\n  margin-top: 8px;\n  color: ${props => props.theme.colors.text};\n`;\n\nexport const Item = styled.li``;\n\nexport const Loading = styled.div`\n  height: 128px;\n  background: #aaa;\n  animation: fading 1.5s infinite;\n\n  @keyframes fading {\n    0% {\n      opacity: 0.1;\n    }\n    50% {\n      opacity: 0.2;\n    }\n    100% {\n      opacity: 0.1;\n    }\n  }\n`;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Container, Title, List, Item, Loading } from './styles';\n\nimport { TextContext } from '../../context/TextContext';\n\nlet timer;\n\nconst WordFrequency = () => {\n  const { wordFrequency, text } = useContext(TextContext);\n  const [wordInfo, setWordInfo] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (timer) {\n      setLoading(true);\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(() => {\n      setWordInfo(wordFrequency);\n      setLoading(false);\n    }, 1000);\n  }, [text, wordFrequency]);\n\n  return (\n    wordInfo.length > 0 && (\n      <Container>\n        <Title>Word Frequency:</Title>\n        <List>\n          {loading ? (\n            <Loading />\n          ) : (\n            wordInfo.map(word => (\n              <Item key={word[0]}>\n                {`${word[1]} - ${word[0]} (${word[2]}%)`}\n              </Item>\n            ))\n          )}\n        </List>\n      </Container>\n    )\n  );\n};\n\nexport default WordFrequency;\n","import React, { useContext } from 'react';\nimport { Container, TextArea } from './styles';\nimport { TextContext } from '../../context/TextContext';\n\nimport Stats from '../Stats';\nimport WordFrequency from '../WordFrequency';\n\nconst Main = () => {\n  const { text, setText } = useContext(TextContext);\n\n  return (\n    <Container>\n      <Stats />\n      <TextArea\n        value={text}\n        onChange={e => setText(e.target.value)}\n        placeholder=\"Paste or write the text here...\"\n      />\n      <WordFrequency />\n    </Container>\n  );\n};\n\nexport default Main;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 80px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: ${props => props.theme.colors.secondary};\n  padding: 0 24px;\n\n  h1 {\n    font-size: 1rem;\n    color: ${props => props.theme.colors.text};\n  }\n`;\n\nexport const ThemeSwitch = styled.button`\n  color: ${props => props.theme.colors.text};\n  background: none;\n  border: none;\n  font-size: 1.125rem;\n`;\n","import React, { useContext } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { FaLightbulb, FaRegLightbulb } from 'react-icons/fa';\nimport { Container, ThemeSwitch } from './styles';\n\nconst Header = ({ toggleTheme }) => {\n  const { theme } = useContext(ThemeContext);\n\n  return (\n    <Container>\n      <h1>Word Frequency</h1>\n      <ThemeSwitch onClick={toggleTheme}>\n        {theme === 'dark' ? <FaLightbulb /> : <FaRegLightbulb />}\n      </ThemeSwitch>\n    </Container>\n  );\n};\n\nHeader.propTypes = { toggleTheme: PropTypes.func.isRequired };\n\nexport default Header;\n","import React from 'react';\nimport { ThemeProvider } from 'styled-components';\nimport usePersistentState from './utils/usePersistentState';\nimport dark from './styles/themes/dark';\nimport light from './styles/themes/light';\n\nimport GlobalStyle from './styles/global';\nimport Main from './components/Main';\nimport Header from './components/Header';\n\nimport TextProvider from './context/TextContext';\n\nfunction App() {\n  const [theme, setTheme] = usePersistentState('theme', dark);\n\n  const toggleTheme = () => {\n    setTheme(theme.theme === 'dark' ? light : dark);\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <TextProvider>\n        <Header toggleTheme={toggleTheme} />\n        <Main />\n        <GlobalStyle />\n      </TextProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}